# 5. 가독성 높은 코드를 작성하라.

### 5.1 서술형 명칭 사용
* 이름을 잘 짓자.
### 5.1.1 서술적이지 않은 이름은 코드를 읽기 어렵게 만든다.
```java
int a;
int b;
public int s(int q, int w) {
    return q+w / w;
}
```

### 5.1.2 주석문으로 서술적인 이름을 대체할 수 없다.
* 코드의 이름을 적당히 지어놓고 주석으로 설명해도 읽기 어려운건 마찬가지.

### 5.1.3 해결책: 서술적인 이름 짓기
* 변수, 함수 및 클래스의 이름을 잘 지어서 별도의 설명이 필요없게 만들자.

### 5.2 주석문의 적절한 사용
* 코드를 입문할때 이해를 도울 상위 레벨의 주석은 전체의 목차와 같은 역할로 이해를 도울 수 있다.

### 5.2.1 중복된 주석문은 유해할 수 있다
* 코드로 이미 잘 설명된 경우 주석은 쓸모없고 가독성을 해친다.
* 유지보수의 대상이 코드 뿐 아니라 주석도 된다.

### 5.2.2 주석문으로 가독성 높은 코드를 대체할 수 없다
* 코드 자체가 가독성이 낮다면 주석으로 가독성을 높여봐야 소용 없다.
* 주석 자체의 업데이트가 안될 가능성

### 5.2.3 주석문은 코드의 이유를 설명하는 데 유용하다
* 제품 또는 비즈니스 의사 결정
  * 주석보다 다른 문서에 기록되어야 할 것으로 보임
    * 아키텍처라면 ADR
    * 비즈니스라면 PM/PO가 접근할 수 있는 Wiki
* 이상하고 명확하지 않은 버그에 대한 해결책
  * Workaround를 위해 작성된 주석은 결국 제거되지 않고 그 자체가 코드가 되어 영원히 남게될 것 같음
* 의존하는 코드의 예상을 벗어나는 동작에 대처
  * 의존하는 library 를 변경하거나
  * 의존하는 서버의 변경을 요구하거나(내부라면)
  * 의존하는 서버의 변경을 하위레벨로 감춰서 추상화 하고 상위 레벨에서는 알 필요 없게 만드는게 더 낫지 않을까

### 5.2.4 주석문은 유용한 상위 수준의 요약 정보를 제공할 수 있다.
* 코드를 처음 읽을때 목차 용도의 주석은 유용해 보임
  * 그러나 이것 역시 해당 repository의 readme에 기록되는 것이 더 좋지 않을까?

### 5.3 코드 줄 수를 고정하지 말라
* 코드의 줄 수를 지표로 삼지 말자

### 5.3.1 간결하지만 이해하기 어려운 코드는 피하라
* 숏코딩 하지 말것

### 5.3.2 해결책: 더 많은 줄이 필요하더라도 가독성 높은 코드를 작성하라
* 라인이 늘어나더라도 가독성을 우선시하여 풀어서 쓰자

### 5.4 일관된 코딩 스타일을 고수하라
* 하나의 프로젝트에서 여러가지 코딩 스타일을 사용하면 가독성이 떨어진다.

### 5.4.1 일관적이지 않은 코딩 스타일은 혼동을 일으킬 수 있다.
```java
end() {
    connectionManager.terminateAll();
}
```

일반적으로 기대하는 connectionManager의 생김새
```java
private Connection connection;
public ConnectionManager() {
    this.connection = Connection.open()
}
public void terminateAll() {
    this.connection.release();
}
```

그러나
```java
public class connectionManager {
  public static void terminateAll() {
    connections.releaseAll();    
  }
}
```

### 5.4.2 해결책: 스타일 가이드를 채택하고 따르라
* 일관된 코딩 스타일을 고수하기 위해서는 하나의 스타일 가이드를 팀내에서 채택하고 공유하자.
* 오해할 가능성이 줄어들고, 이로 인해 버그가 줄어들고, 코드의 가독성이 향상된다.

### 5.5 깊이 중첩된 코드를 피하라
### 5.5.1 깊이 중첩된 코드는 읽기 어려울 수 있다
* if if if if else else else lse 읽기 어려움.
### 5.5.2 해결책: 중첩을 최소화하기 위한 구조 변경
* 중첩된 모든 블록에 반환문이 있다면 재배치하는것이 쉽다.
* 반환문이 없다면 함수의 역할이 너무 많다는 의미가 될 수 있다.

### 5.5.3 중첩은 너무 많은 일을 한 결과물이다
### 5.5.4 해결책: 더 작은 함수로 분리
* 더 작은 함수로 분리하는 리팩토링을 통해 해결할 수 있다.
* 2장에서 이야기 했던 함수가 SRP를 지키지 않을때 추상화 계층이 나빠지는것과 더불어서 IF 중첩이 없더라도 함수를 쪼개는 것은 필요하다.
* 그런데 중첩까지 있다면 두가지 문제를 동시에 해결할 수 있게 된다.
### 5.6 함수 호출도 가독성이 있어야 한다
* 함수의 이름이 잘 지어졌다면 무슨 일을 하는지 명확하겠지만, 이름만 명확하고 개념적으로 명확하지 않다면 이해하기 어렵다.
### 5.6.1 매개변수는 이해하기 어려울 수 있다
```JAVA
sendMessage("hello", 1, true);
```
* 위 함수에서 1과 true는 무엇을 의미하는지 알기 어렵다.
### 5.6.2 해결책: 명명된 매개변수 사용
* python과 같은 언어들은 확인하지 않아도 어떤 필드가 필요한지 알 수 있다.
### 5.6.3 해결책: 서술적 유형 사용
```java
sendMessage("hello", new MessagePriority(1), RetryPolicy.ALLOW_RETRY);
```
### 5.6.4 때로는 훌륭한 해결책이 없다
* Box를 생성하는 함수의 경우 TOP_LEFT, TOP_RIGHT, BOTTOM_LEFT, BOTTOM_RIGHT와 같이 지정해주었을때 코드 양이 많아서?
  * 그냥 하나씩 지정해주는게 더 낫지 않을까?
* 인라인 주석은 가독성을 높이는데 도움이 됨
  * 지정해주는게 더 나아보임
### 5.6.5 IDE는 어떤가?
* IDE가 매개변수가 어떤 값인지 보여주기도 함
  * 이 기능으로 인해 기본 가독성이 떨어져 Web에서 볼때는 가독성이 떨어지기도 함
### 5.7 설명되지 않은 값을 사용하지 말라
* 값 변환시 값의 의미를 쓰지 않고 숫자만 써두면 무슨 의미인지 알기 어려움
### 5.7.1 설명되지 않은 값은 혼란스러울 수 있다.
* ex) 톤 / 킬로그램 변환 값, 마일/미터 변환 값
### 5.7.2 해결책: 잘 명명된 상수를 사용하라
* 상수화 하여 해결하자
```java
double KILOGRAMS_PER_US_TON = 907.1847
```

### 5.7.3 해결책: 잘 명명된 함수를 사용하라
공급자 함수
```java
private static Double kilogramsPerUsTon() {
    return 907.1847;    
}
```

헬퍼 함수
```java
private static Double usTonsToKilograms(Double usTons) {
    return usTons * 907.1847;    
}
```

### 5.8 익명 함수를 적절하게 사용하라
* 명확한 것에 익명 함수를 사용하면 코드의 가독성을 높여준다.
* 복잡한 경우 사용할 경우 문제가 발생할 수 있다.
### 5.8.1 익명 함수는 간단한 로직에 좋다
* List를 filter out 하는 경우와 같은 단순한 로직
### 5.8.2 익명 함수는 가독성이 떨어질 수 있다
* 내부의 동작이 복잡하거나 특정적이라면 익명 함수의 사용은 가독성을 저해한다
### 5.8.3 해결책: 대신 명명 함수를 사용하라
### 5.8.4 익명 함수가 길면 문제가 될 수 있다
* 람다 안에 for each로 많은 내용을 작성하지 말자